"use strict";(globalThis.webpackChunkrs_clone=globalThis.webpackChunkrs_clone||[]).push([[835],{5794:(e,t,a)=>{a.d(t,{$K:()=>u,Al:()=>E,BA:()=>w,Fe:()=>v,Fo:()=>m,Gm:()=>f,M:()=>_,Vv:()=>d,ah:()=>p,by:()=>b,dQ:()=>y,xD:()=>g});var n=a(4572),r=a(885),o=a(2982),i=a(4051),s=a(6147);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}async function u(e){return(await h("users","username",e)).docs.length>0}async function m(e,t){var a=(0,i.hJ)(s.db,"users"),n=(0,i.IO)(a,(0,i.ar)("username","==",e)),r=(0,i.IO)(n,(0,i.ar)("following","array-contains",t));return(await(0,i.PL)(r)).docs.length>0}async function f(e,t,a,n,r){n&&r&&(await async function(e,t,a){var n=(0,i.hJ)(s.db,"users"),r=(0,i.JU)(n,t),l=(await(0,i.QT)(r)).data().following;if(e){var c=l.filter((function(e){return e!=a}));(0,i.r7)(r,{following:c}).catch((function(e){return console.log(e)}))}else(0,i.r7)(r,{following:[].concat((0,o.Z)(l),[a])}).catch((function(e){return console.log(e)}))}(e,r,t),await async function(e,t,a){var n=(0,i.hJ)(s.db,"users"),r=(0,i.JU)(n,t),l=(await(0,i.QT)(r)).data().followers;if(e){var c=l.filter((function(e){return e!=a}));(0,i.r7)(r,{followers:c}).catch((function(e){return console.log(e)}))}else(0,i.r7)(r,{followers:[].concat((0,o.Z)(l),[a])}).catch((function(e){return console.log(e)}))}(e,a,n))}async function g(e){var t=(await h("users","userId",e)).docs.map((function(e){return c(c({},e.data()),{},{docId:e.id})}));return(0,r.Z)(t,1)[0]}async function p(){var e=(0,i.hJ)(s.db,"users");return(await(0,i.PL)(e)).docs.map((function(e){return e.data()}))}async function d(){var e=(0,i.hJ)(s.db,"photos");return(await(0,i.PL)(e)).docs.map((function(e){return e.data()}))}async function h(e,t,a){var n=(0,i.hJ)(s.db,e),r=(0,i.IO)(n,(0,i.ar)(t,"==",a));return await(0,i.PL)(r)}async function y(e){return(await h("users","username",e)).docs.map((function(e){return c(c({},e.data()),{},{docId:e.id})}))[0]}async function _(e){var t=(0,i.hJ)(s.db,"users"),a=(0,i.JU)(t);(0,i.pl)(a,e)}function b(e){switch(e.code){case"auth/email-already-in-use":return"The email address is already in use";case"auth/invalid-email":return"The email address is not valid.";case"auth/operation-not-allowed":return"Operation not allowed.";case"auth/weak-password":return"The password is too weak.";default:return e.message}}function v(e,t,a,n){var r=(0,i.hJ)(s.db,"photos"),o=(0,i.JU)(r),l={caption:n,comments:[],dateCreated:Date.now(),imageSrc:t,likes:[],imagePath:e,userId:a};(0,i.pl)(o,l)}async function w(e,t,a){if(a){var n=(0,i.hJ)(s.db,"users"),r=await y(a),o=(0,i.JU)(n,r.docId),l={avatarSrc:e,imagePath:t};await(0,i.r7)(o,{avatarData:l}).then().catch((function(e){console.log(e)}))}}async function E(e,t,a){if(a){var n=(0,i.hJ)(s.db,"users"),r=(0,i.JU)(n,a);(0,i.r7)(r,{username:e,fullName:t}).catch((function(e){return console.log(e)}))}}},6835:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(885),r=a(5500),o=a(7294),i=a(9250),s=a(9655),l=a(5794),c=a(5732),u=a(6297),m=a(3379),f=a.n(m),g=a(8917);function p(){var e,t=(0,i.s0)(),a=null===(e=(0,o.useContext)(c.Z))||void 0===e?void 0:e.firebase,m=(0,o.useState)(""),f=(0,n.Z)(m,2),g=f[0],p=f[1],d=(0,o.useState)(""),h=(0,n.Z)(d,2),y=h[0],_=h[1],b=(0,o.useState)(""),v=(0,n.Z)(b,2),w=v[0],E=v[1],x=(0,o.useState)(""),N=(0,n.Z)(x,2),S=N[0],O=N[1],P=(0,o.useState)(""),j=(0,n.Z)(P,2),k=j[0],Z=j[1],I=""===S||""===w;return(0,o.useEffect)((function(){document.title="Sign Up - Instagram"}),[]),o.createElement("main",{className:"signup-page page"},o.createElement("div",{className:"signup-page__inner login-container"},o.createElement("header",{className:"signup-page__header signup-header"},o.createElement("h1",{className:"signup-header__title visually-hidden"},"Instagram"),o.createElement("img",{className:"signup-header__logo",src:"./images/logo.png",alt:"Instagram logo",width:"175",height:"51"}),o.createElement("h2",{className:"signup-header__text"},"Sign up to see photos and videos from your friends.")),k&&o.createElement("p",null,k),o.createElement("form",{className:"signup-page__form signup-form",onSubmit:async function(e){if(e.preventDefault(),await(0,l.$K)(g))Z("That username is already taken, please try another!");else try{var n=(0,r.v0)(a),o=await(0,r.Xb)(n,w,S);(0,r.ck)(o.user,{displayName:g.toLowerCase()});var i={userId:o.user.uid,username:g.toLowerCase(),fullName:y,emailAddress:w.toLocaleLowerCase(),following:[],followers:[],dateCreated:Date.now(),avatarData:{avatarSrc:"",imagePath:""}};(0,l.M)(i),t(u.h1)}catch(e){var s=e,c=(0,l.by)(s);_(""),E(""),O(""),Z(c)}},method:"POST"},o.createElement("input",{className:"signup-form__field field",type:"text","aria-label":"Enter your username",placeholder:"Username",onChange:function(e){var t=e.target;return p(t.value)},value:g}),o.createElement("input",{className:"signup-form__field field",type:"text","aria-label":"Enter your full name",placeholder:"Full Name",onChange:function(e){var t=e.target;return _(t.value)},value:y}),o.createElement("input",{className:"signup-form__field field",type:"text","aria-label":"Enter your email address",placeholder:"Email address",onChange:function(e){var t=e.target;return E(t.value)},value:w}),o.createElement("input",{className:"signup-form__field field",type:"password","aria-label":"Enter your password",placeholder:"Password",onChange:function(e){var t=e.target;return O(t.value)},value:S}),o.createElement("p",{className:"signup-form__text"},"By signing up, you agree to our Terms."),o.createElement("button",{className:"signup-form__action button button--primary",disabled:I,type:"submit"},"Sign Up"))),o.createElement("div",{className:"signup-page__login login-container"},o.createElement("p",null,"Have an account?"," ",o.createElement(s.rU,{className:"signup-page__link link",to:u.ym},"Log In"))),o.createElement("footer",{className:"signup-page__footer footer"},o.createElement("ul",{className:"footer__owners owners"},o.createElement("li",{className:"owners__item"},o.createElement("a",{className:"owners__link",href:"https://github.com/huffpufftuff"},o.createElement("img",{src:"./images/github.svg",width:"16",height:"16"}),o.createElement("span",null,"HuffPuffTuff"))),o.createElement("li",{className:"owners__item"},o.createElement("a",{className:"owners__link",href:"https://github.com/szyrwel"},o.createElement("img",{src:"./images/github.svg",width:"16",height:"16"}),o.createElement("span",null,"Szyrwel"))),o.createElement("li",{className:"owners__item"},o.createElement("a",{className:"owners__link",href:"https://github.com/sid-inc"},o.createElement("img",{src:"./images/github.svg",width:"16",height:"16"}),o.createElement("span",null,"Sid-inc")))),o.createElement("span",{className:"footer__text"}," Â© 2023 Instagram from RSSchool "),o.createElement("div",{className:"footer__rs rs"},o.createElement("img",{className:"rs__image",src:"./images/rs_school_js.svg",alt:"rs school",width:"80",height:"29"}),o.createElement("a",{className:"rs__link",href:"https://rs.school/js/"},"Click to learn"))))}f()(g.Z,{insert:"head",singleton:!1}),g.Z.locals},8917:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(3645),r=a.n(n)()((function(e){return e[1]}));r.push([e.id,".signup-page__inner{display:flex;flex-direction:column;align-items:center;margin-top:12px;margin-bottom:10px}@media screen and (max-width: 450px){.signup-page__inner{margin-top:0}}.signup-page__header{margin-bottom:12px}.signup-page__form{width:100%;margin-bottom:20px}.signup-page__login{display:flex;flex-direction:column;align-items:center}.signup-header{display:flex;flex-direction:column;align-items:center}.signup-header__logo{margin-top:36px;margin-bottom:12px}.signup-header__text{font-size:17px;font-weight:600;line-height:20px;text-align:center;margin-top:0;margin-bottom:10px;color:rgb(var(--text-color_300))}.signup-form{display:flex;flex-direction:column;align-items:center;gap:6px}.signup-form__field,.signup-form__action{width:100%}.signup-form__text{font-size:12px;line-height:16px;color:rgb(var(--text-color_300))}.signup-page__footer{display:flex;align-items:center;font-size:12px;line-height:16px;height:134px;margin-top:auto;color:rgb(var(--text-color_300))}",""]);const o=r},4572:(e,t,a)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,{Z:()=>r})},2982:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(907),r=a(181);function o(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);